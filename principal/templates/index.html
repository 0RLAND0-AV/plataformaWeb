{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>indexCorregido</title>
    <link rel="stylesheet" href="{% static "index.css"%}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
 <!-- Armando-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
    <header>
        <img src="{% static "LogoIS_Oficial.png"%}"alt="Logo de la Tienda" class="header-image">
        <h1></h1>
        <input type="checkbox" id="menu-toggle" class="menu-toggle">
        <label for="menu-toggle" class="menu-icon">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </label>
        
        <nav>
            <ul class="nav-list" id="nav-list">
                <li><a href="#home">Inicio <ion-icon name="home-outline"></ion-icon></a></li>
               <!-- <li><a href="notificaciones.html">Notificaciones <ion-icon name="notifications-circle-outline"></ion-icon></a></li> -->
                <!-- <li><a href="carrito.html">Carrito <ion-icon name="cart-outline"></ion-icon></a></li> -->
                <div class="cart-container">
                    <a href="#carrito" id="cart-icon">Carrito <ion-icon name="cart-outline"></ion-icon> <span class="badge text-bg-secondary" id="cart-count">0</span></a>
                    <!-- Lista del carrito (inicialmente oculta) -->
                    <div id="carrito" class="hidden">
                        <h2>Carrito de Compras</h2>
                        <ul id="cart-items"></ul>
                        <p>Total: <span id="total-price">0.00</span> bs</p>
                    </div>
                </div>
                <li><a href="{% url 'perfil' %}">{{ usuario.username }} <ion-icon name="person-circle-outline"></ion-icon></a></li>
            </ul>
        </nav>
        <!-- <div class="search-container">
            <input type="text" placeholder="Buscar productos..." class="search-input">
            <button class="search-button">Buscar <ion-icon name="search-outline"></ion-icon></button>
        </div>-->
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Buscar productos..." class="search-input">
            <button class="search-button" onclick="buscarProducto()">Buscar <ion-icon name="search-outline"></ion-icon></button>
             <!-- Mensaje de "No se encontró ningún producto con ese nombre" -->
             <p id="noResultMessage" style="display: none; color: red;">No se encontró ningún producto con ese nombre.</p>
        </div>
    </header>
    
    <section id="home" class="hero-section">
        <h2>Los Mejores Materiales para Tu Construcción</h2>
        <p>Calidad garantizada a precios competitivos. ¡Compra ahora y recibe tu pedido en la puerta de tu casa!</p>
        <a href="#products" class="btn">Ver Productos</a>
    </section>
    <!-- Menu de categorias con Boostrap Armando-->
    <!-- Menu de categorias con Boostrap Armando-->
    <div class="accordion accordion-left verde" id="accordionExample">
        <h3>CATEGORIAS</h3>
        <div class="accordion-item verde">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed verde" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                   CEMENTO
                </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                   <ul class="sin-punto">                 
                    
                    <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Cemento" data-subcategory="Coboce">Coboce</button></li>
                    <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Cemento" data-subcategory="Emisa">Emisa</button></li>
                    <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Cemento" data-subcategory="Camba">Camba</button></li>
                    <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Cemento" data-subcategory="Soboce">Soboce</button></li>
                </ul>
                </div>
            </div>
        </div>

        <div class="accordion-item verde">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed verde" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                    ACERO
                </button>
            </h2>
            <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <ul class="sin-punto">
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Acero" data-subcategory="Laminas">Laminas</button></li>
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Acero" data-subcategory="Barrilla">Barrila</button></li>
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Acero" data-subcategory="Alambron">Alambron</button></li>
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Cemento" data-subcategory="Perfiles">Perfiles</button></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="accordion-item verde">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed verde" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                    TEJAS Y CUBIERTAS
                </button>
            </h2>
            <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <ul class="sin-punto">
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Tejas y Cubiertas" data-subcategory="Tejas">Tejas</button></li>
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Tejas y Cubiertas" data-subcategory="Canaletas">Canaletas</button></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="accordion-item verde">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed verde" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                    CEMENTO Y COMPLEMENTO
                </button>
            </h2>
            <div id="collapseSix" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <ul class="sin-punto">
                       
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Cemento y Complemeto" data-subcategory="Cemento">Cemento</button></li>
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Cemento y Complemeto" data-subcategory="Yeso">Yeso</button></li>
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Cemento y Complemeto" data-subcategory="Cal">Cal</button></li>
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Cemento y Complemeto" data-subcategory="Mortero">Mortero</button></li>    
                    </ul>
                </div>
            </div>
        </div>

        <div class="accordion-item verde">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed verde" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                    LADRILLOS Y BLOQUES
                </button>
            </h2>
            <div id="collapseSeven" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <ul class="sin-punto"> 
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Ladrillos y Bloque" data-subcategory="Ladrillos">Ladrillos</button></li>
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Ladrillos y Bloques" data-subcategory="Bloques">Bloques de Concreto</button></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="accordion-item verde">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed verde" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
                    ARENAS
                </button>
            </h2>
            <div id="collapseEight" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <ul class="sin-punto"> 
                        
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Arenas" data-subcategory="Cascajo">Cascajo</button></li>
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Arenas" data-subcategory="Grava">Grava</button></li>
                        <li><button class="btn custom-btn" style="background: transparent; border: none;" data-category="Arenas" data-subcategory="Fina">Fina</button></li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
    <!-- Seccion de productos ofertados -->
    <!-- Seccion de productos ofertados -->
    <!-- Sección de productos ofertados -->
<section id="products" class="product-grid">
    {% for producto in productos %}
    <div class="product-card" id="{{ producto.category.id }}">
        <img src="{{ producto.image.url }}" alt="{{ producto.name }}">
        <h3>{{ producto.name }}</h3>
        <h4>{{ producto.category }}</h4>
        <button class="btn btn-outline-success" type="button" class="btn btn-secondary" 
                data-bs-toggle="popover" data-bs-placement="bottom"
                data-bs-trigger="focus"
                data-bs-custom-class="custom-popover"
                data-bs-title="{{ producto.name|upper }}"
                data-bs-content="{{ producto.description }}">
            Más información</button>
        <p>Descripción: {{ producto.description }}</p>
        <p class="price">{{ producto.price }} bs</p>
        <button type="button" class="btn add-to-cart-btn" class="btn btn-primary" 
                id="liveToastBtn" 
                data-product="{{ producto.name }}" 
                data-price="{{ producto.price }}">Agregar al carrito</button>
        <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <div id="liveToast" class="toast" role="alert" data-bs-delay="2000" aria-live="assertive" aria-atomic="true">
                <div class="toast-body text-bg-primary">
                    Se Agregó Correctamente al Carrito!
                </div>
            </div>
        </div>
    </div>   
    {% endfor %}
</section>
 

    <section id="about" class="about-section">
        <h2>Sobre Nosotros</h2>
        <p>En nuestra tienda, nos dedicamos a ofrecer los mejores materiales de construcción para profesionales y particulares. Con más de 20 años de experiencia en el sector, garantizamos calidad y un excelente servicio al cliente.</p>
        <p>Nos esforzamos por proporcionar los materiales que necesitas para tus proyectos, desde pequeñas renovaciones hasta grandes obras de construcción.</p>
    </section>

    <section id="contact" class="contact-section">
        <h2>Contacto</h2>
        <form action="#" method="post">
            <label for="name">Nombre:</label>
            <input type="text" id="name" name="name" required>
            
            <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="email" required>
            
            <label for="message">Mensaje:</label>
            <textarea id="message" name="message" rows="4" required></textarea>
            
            <button type="submit" class="btn">Enviar Mensaje</button>
        </form>
    </section>

    <footer>
        <p>&copy; 2024 Tienda de Materiales de Construcción. Todos los derechos reservados.</p>
        <p>Síguenos en nuestras redes sociales:</p>
        <p>
            <a href="#">Facebook</a> | 
            <a href="#">Instagram</a> | 
            <a href="#">Twitter</a>
        </p>
    </footer>
    <script src="{% static 'buscadorProductos.js' %}" ></script>
    <script src="{% static 'carrito.js' %}" ></script>
    <script src="{% static 'buscadorDeCategorias.js' %}" ></script>

<!--Armando-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.min.js"></script>

</body>
</html>
